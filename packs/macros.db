{"name":"Levels-Preset: Church with crypt and belltower","type":"script","author":"Cspu3pxFr7tu7SU7","img":"icons/environment/settlement/castle.webp","scope":"global","command":"canvas.scene.setFlag(\"levels\",\"sceneLevels\",[\n    [40,46,\"Tower Top\"],\n    [10,19,\"First Floor\"],\n    [6,39,\"Tower Shaft\"],\n    [0,9,\"Ground Floor\"],\n    [0,6,\"Tower Ground\"],\n    [-10,-1,\"Basement\"],\n]).then(CONFIG.Levels.UI.loadLevels())","folder":null,"sort":0,"permission":{"default":0,"Cspu3pxFr7tu7SU7":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.ve8lNAqpoBuyUbol"}},"_id":"6hba1fCqJkWEwTGx"}
{"name":"Levels-Preset: Two Story House","type":"script","author":"Cspu3pxFr7tu7SU7","img":"icons/environment/settlement/house-two-stories.webp","scope":"global","command":"canvas.scene.setFlag(\"levels\",\"sceneLevels\",[\n    [10,19,\"First Floor\"],\n    [0,9,\"Ground Floor\"],\n]).then(CONFIG.Levels.UI.loadLevels())","folder":null,"sort":0,"permission":{"default":0,"Cspu3pxFr7tu7SU7":3},"flags":{"core":{"sourceId":"Macro.daH3uXpcu7vnBM0u"},"advanced-macros":{"runAsGM":false}},"_id":"HcS2lyrm74r08LEc"}
{"name":"Toggle Player Elevation Lock","type":"script","author":"Cspu3pxFr7tu7SU7","img":"icons/skills/movement/feet-winged-boots-glowing-yellow.webp","scope":"global","command":"const prevSetting = game.settings.get(\"levels\", \"lockElevation\")\n\nif(prevSetting){\nui.notifications.notify(\"Players can now change their elevation!\")\n}else{\nui.notifications.notify(\"Players elevation is now locked!\")\n}\n\ngame.settings.set(_levelsModuleName, \"lockElevation\",!prevSetting)","folder":null,"sort":0,"permission":{"default":0,"Cspu3pxFr7tu7SU7":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.z3l3v45GwB0cFBL3"}},"_id":"ZPW529JrGvo0IPxu"}
{"name":"Change Level (MLT)","type":"script","author":"Cspu3pxFr7tu7SU7","img":"icons/environment/settlement/stone-stairs.webp","scope":"global","command":"/*\n* REQUIRES MULTI LEVEL TOKENS\n* Import the macro, then create a drawing\n* In the multilevel tab add this macro's name to the macro name field\n* Set the macro to trigger only on enter\n* In the arguments field set the two elevation (eg. 0,10)\n*/\n\n\nconst bottom = args[0];\nconst top = args[1];\nconst tokenElev = token.data.elevation;\n\nif (tokenElev <= top && tokenElev >= bottom) {\n  if (tokenElev == top) token.update({ elevation: bottom });\n  if (tokenElev == bottom) token.update({ elevation: top });\n}","folder":null,"sort":0,"permission":{"default":0,"Cspu3pxFr7tu7SU7":3},"flags":{"core":{"sourceId":"Macro.sDc1dWhpoj5veF57"}},"_id":"aBV2QIDA3tdcikHK"}
{"name":"Levels-Preset: Two Story House with Basement","type":"script","author":"Cspu3pxFr7tu7SU7","img":"icons/environment/settlement/house-farmland-small.webp","scope":"global","command":"canvas.scene.setFlag(\"levels\",\"sceneLevels\",[\n    [10,19,\"First Floor\"],\n    [0,9,\"Ground Floor\"],\n    [-10,-1,\"Basement\"],\n]).then(CONFIG.Levels.UI.loadLevels())","folder":null,"sort":0,"permission":{"default":0,"Cspu3pxFr7tu7SU7":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.ldiyTGWxQ7OlfTAV"}},"_id":"iJJbQw2LOaGCXihA"}
{"name":"Levels-Preset: Tower (5F)","type":"script","author":"Cspu3pxFr7tu7SU7","img":"icons/environment/settlement/tower-stone-blue.webp","scope":"global","command":"canvas.scene.setFlag(\"levels\",\"sceneLevels\",[\n    [40,49,\"Fourth Floor\"],\n    [30,39,\"Third Floor\"],\n    [20,29,\"Second Floor\"],\n    [10,19,\"First Floor\"],\n    [0,9,\"Ground Floor\"],\n]).then(CONFIG.Levels.UI.loadLevels())","folder":null,"sort":0,"permission":{"default":0,"Cspu3pxFr7tu7SU7":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.4Vzc8tRzQf3CyXN6"}},"_id":"lWAT0Snx4MGbA3BU"}
{"name":"Reverse Levels","type":"script","author":"Cspu3pxFr7tu7SU7","img":"icons/svg/upgrade.svg","scope":"global","command":"canvas.scene.setFlag(\"levels\",\"sceneLevels\",canvas.scene.getFlag(\"levels\",\"sceneLevels\").reverse())","folder":null,"sort":0,"permission":{"default":0,"Cspu3pxFr7tu7SU7":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.R3ToIifk8N3BsWWe"}},"_id":"moQTi0yIE4aEM5ps"}
{"name":"Toggle UI","type":"script","author":"Cspu3pxFr7tu7SU7","img":"icons/svg/dice-target.svg","scope":"global","command":"if(CONFIG.Levels.UI.rendered){\nCONFIG.Levels.UI.close();\n}else{\nCONFIG.Levels.UI.render(true);\n}","folder":null,"sort":0,"permission":{"default":0,"Cspu3pxFr7tu7SU7":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.aRZlPNZAwbvM4QRb"}},"_id":"yx7Eb76rfzjh0LEO"}
{"name":"Fix Overhead Tiles in Level Tiles","type":"script","scope":"global","author":"CMsCEuXIEBbDODdz","img":"icons/svg/oak.svg","command":"// First SELECT the tiles to fix and Select the correct Level in the UI. Then run the macro\n\nconst updates = []\nconst UIBottom = parseFloat(CONFIG.Levels.UI.range[0]);\nconst UITop = parseFloat(CONFIG.Levels.UI.range[1]);\nfor(let tile of canvas.tiles.controlled){\n    updates.push({\n        _id: tile.id,\n        flags: {\n            levels: {\n                rangeTop: UITop,\n                rangeBottom: UITop,\n                showIfAbove: true,\n                showAboveRange: UITop - UIBottom,\n            }\n        }\n    })\n}\n\ncanvas.scene.updateEmbeddedDocuments(\"Tile\", updates)","ownership":{"default":0,"CMsCEuXIEBbDODdz":3},"flags":{"core":{"sourceId":"Macro.sx6rbqbZMfXdLuwx"}},"_stats":{"systemId":"dnd5e","systemVersion":"1.6.3","coreVersion":"10.273","createdTime":1658003927058,"modifiedTime":1658003927058,"lastModifiedBy":"CMsCEuXIEBbDODdz"},"folder":null,"sort":0,"_id":"uiYYEMCXzP5naenJ"}
